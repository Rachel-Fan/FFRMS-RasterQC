# FFRMS-RasterQC-Riverine
This tool is developed to automate raster QC checklist on FFRMS FVA riverine rasters.  All STARR II PTS Zone3 partners are authorized to use this tool for riverine raster QC checks. 

**Introduction**
The Raster Quality Control Tool is a Python script that helps you compare and analyze raster datasets in a geographic information system (GIS) environment using ArcGIS's Spatial Analyst extension. This manual provides an overview of the tool and instructions on how to use it effectively.

1.	Getting Started
- Prerequisites
- Before using the Raster Quality Control Tool, ensure you have the following prerequisites in place:
  •	ArcGIS with Spatial Analyst Extension: This tool relies on ArcGIS software with the Spatial Analyst extension installed and licensed.
  •	Python: The tool is written in Python, so make sure Python is installed on your system. Python 3.x is recommended.
    Installation
      No specific installation is required. Please follow the instructions in Section 3 to run the script.

2.	Tool Overview
- Purpose
  The Raster Quality Control Tool is designed to compare raster datasets, particularly Flood Fractionation Raster (FFR) datasets, to ensure their quality and accuracy. It performs the following key functions:
    o	Compares the extent of different raster datasets.
    o	Compares cell values between raster datasets.
    o	Generates reports and exports results to CSV files.
  
- Key Features
  o	Automated Comparison: The tool automatically compares raster extents and cell values, reducing the need for manual analysis.
  o	Extensive Reporting: It generates detailed reports and outputs CSV files summarizing the results.
  o	User-Friendly: The script is designed to be easy to use and understand, even for users with minimal programming experience.
  
- Supported Formats
  The tool is designed to work with raster datasets in the ArcGIS environment. It supports various raster formats, including TIFF, GRID, and others supported by ArcGIS.
  
3.	Using the Tool
- Setting up folder structure 
  Follow these steps to set up the script running environment:
    1.	Copy the unzipped FFRMS_Raster_QC_Tool folder to your designated path (with > 20GB free disk space). You will see 2 files (script: FFRMS_Raster_QC_Riverine.py; configure:         
        FFRMS_RasterQC_Configuration.xlsx) and 2 empty folders(Output/Temp)  in this folder.
    2.	Open FFRMS_RasterQC_Configuration.xlsx and set up input data (including path, name and extension) and output CSV file name (only name is necessary, no need to include path).
       Note that the input raster needs to be in the folder. Geodatabase is not working for current version of the tool. 
       ![image](https://github.com/Rachel-Fan/FFRMS-RasterQC-Riverine/assets/9139057/f914d2bb-b61f-4478-b451-1bda17d83155)

- Running the Script
  1.	Right click on FFRMS_Raster_QC_Riverine.py and click “Edit with IDLE (ArcGIS Pro).Once the script is open,  there are 2 options to start the script:
      a.	press F5 on the keyboard 
      b.	click ”Run” dropdown from the Menu bar and choose “Run Module” option. 
          A new IDLE Shell window should pop up, which means the tool is successfully started. It takes about 20 minutes for my pilot study area to process.
          ![image](https://github.com/Rachel-Fan/FFRMS-RasterQC-Riverine/assets/9139057/1132aa4f-1a00-4336-ad85-13044b619c79)

  2.	Once the tool has successfully finished running, you can find that a new CSV file has been created under same folder of the script, with the name you just named in the configuration file. 
  3.	Output folder contains shapefiles that are generated by the tool and contains raster comparison results.
  4.	Temp folder contains intermediate file of the entire geoprocessing procedures. You may refer to it when checking a specific step of the script. 

- Output Files
  The tool generates several output files:
  •	Shapefiles: Shapefiles containing differences in raster extents and cell values. Specifically if one QC check is failed, user can use the result shapefile to visualize the fail spots.
  •	A CSV Report: Detailed reports summarizing the raster properties and comparison results.
    ![image](https://github.com/Rachel-Fan/FFRMS-RasterQC-Riverine/assets/9139057/df2ea2e6-221e-4354-9c2f-315332a02c02)

- Understanding the Results
    The tool provides pass/fail status for various comparisons, such as extent comparisons (e.g., 00FVA vs. 01FVA) and cell value comparisons. Here's how to interpret the results:
    •	Extent Comparisons: If the tool reports "Pass," it means that the extent of the FVA raster is greater than the second raster. If it reports "Fail," it means the extent of the lower FVA raster is greater.
    •	Cell Value Comparisons: If the tool reports "Pass," it means that all cell values from higher FVA raster are higher than the lower FVA raster. If it reports "Fail," it means there are cells of higher          FVA  that are lower than the lower FVA raster.

4.	Contact Information

    For support, feedback, or inquiries about the Raster Quality Control Tool, please contact:
  	Rachel Fan (rachel.fan@stantec.com)
